{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{442:function(t,r,s){\"use strict\";s.r(r);var e=s(42),a=Object(e.a)({},(function(){var t=this,r=t.$createElement,e=t._self._c||r;return e(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.$parent.slotKey}},[e(\"h1\",{attrs:{id:\"defer-和-ascyc-区别\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#defer-和-ascyc-区别\"}},[t._v(\"#\")]),t._v(\" defer 和 ascyc 区别\")]),t._v(\" \"),e(\"p\",[t._v(\"首先，我们知道的是，在浏览器解析 html 的时候，碰到 script 标签就会停下解析，去执行 js 脚本。\")]),t._v(\" \"),e(\"p\",[t._v(\"所以，为了不妨碍页面的快速展示，我们通常会把 js 脚本放到 body 的后面。\")]),t._v(\" \"),e(\"p\",[t._v(\"然而，这还是带来了一个问题，如果 html 文件很长呢？，那么你要等好久才能执行 js 文件\")]),t._v(\" \"),e(\"p\",[t._v(\"其实 碰到 script 标签，并不是直接执行的，你还要请求 js 的资源，请求到了才能执行。\")]),t._v(\" \"),e(\"p\",[t._v(\"所以，这个请求时间我们是可以利用的。\")]),t._v(\" \"),e(\"p\",[t._v(\"这里，我们的 defer 就出场了。\")]),t._v(\" \"),e(\"hr\"),t._v(\" \"),e(\"h2\",{attrs:{id:\"defer\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#defer\"}},[t._v(\"#\")]),t._v(\" defer\")]),t._v(\" \"),e(\"p\",[t._v(\"script 脚本加上一个 defer 表示后，就是告诉浏览器，你先用 web api 去请求 该js 资源吧，我这里还是解析我的 html。\")]),t._v(\" \"),e(\"p\",[t._v(\"待 html 解析完成后，js 资源一般也请求到了，这时候就可以执行脚本，从而提升性能。\")]),t._v(\" \"),e(\"h2\",{attrs:{id:\"async\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#async\"}},[t._v(\"#\")]),t._v(\" async\")]),t._v(\" \"),e(\"p\",[t._v(\"script 加上 async 标签后，同样的，主线程继续执行解析工作，web api 去请求资源。\")]),t._v(\" \"),e(\"p\",[t._v(\"但是不同的是，它请求到了 js 资源就得立即执行，还是会阻塞 解析(如果在解析完之前请求到了资源)。\")]),t._v(\" \"),e(\"h2\",{attrs:{id:\"区别\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#区别\"}},[t._v(\"#\")]),t._v(\" 区别\")]),t._v(\" \"),e(\"p\",[t._v(\"区别我们可以用一张图来解释。\")]),t._v(\" \"),e(\"p\",[e(\"img\",{attrs:{src:s(!function(){var t=new Error(\"Cannot find module './assets/defer.jpg'\");throw t.code=\"MODULE_NOT_FOUND\",t}()),alt:\"\"}})]),t._v(\" \"),e(\"p\",[t._v(\"蓝色代表请求资源\")]),t._v(\" \"),e(\"p\",[t._v(\"红色代表执行脚本\")]),t._v(\" \"),e(\"p\",[t._v(\"绿色代表解析文档\")]),t._v(\" \"),e(\"p\",[t._v(\"所以，个人感觉 用 defer 是比较好的。\")]),t._v(\" \"),e(\"p\",[t._v(\"最后附一张图，加深理解。\")]),t._v(\" \"),e(\"p\",[e(\"img\",{attrs:{src:s(!function(){var t=new Error(\"Cannot find module './assets/defer.png'\");throw t.code=\"MODULE_NOT_FOUND\",t}()),alt:\"\"}})])])}),[],!1,null,null,null);r.default=a.exports}}]);","extractedComments":[]}