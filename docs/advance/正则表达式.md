# 正则表达式

拖了很久了，直到昨天碰到一个 leetcode 题目，才发现正则的好用。           

因此这里开始整理一下正则。        

## 创建一个正则表达式

创建一个正则表达式，一般由两个方法      

1. 使用正则表达式字面量          

```js
let a = /abc/;
```          

2. 使用 RegExp 的构造函数       


```js
let a = new RegExp("abc");
```       

## 书写正则表达式

- 这一部分是最需要记忆的，而且大部分语言的正则表达式的书写都大差不差。          

这方面的知识有点多，这里仅举例几个常用的，具体看 MDN 的解释 [MDN正则表达式](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_Expressions)       

|字符|含义|
|---|---|
|\\|依照下列规则匹配：在非特殊字符之前的反斜杠表示下一个字符是特殊字符，不能按照字面理解。例如，前面没有 "\" 的 "b" 通常匹配小写字母 "b"，即字符会被作为字面理解，无论它出现在哪里。但如果前面加了 "\"，它将不再匹配任何字符，而是表示一个字符边界。在特殊字符之前的反斜杠表示下一个字符不是特殊字符，应该按照字面理解。详情请参阅下文中的 "转义（Escaping）" 部分。如果你想将字符串传递给 RegExp 构造函数，不要忘记在字符串字面量中反斜杠是转义字符。所以为了在模式中添加一个反斜杠，你需要在字符串字面量中转义它。/[a-z]\s/i 和 new RegExp("[a-z]\\s", "i") 创建了相同的正则表达式：一个用于搜索后面紧跟着空白字符（\s 可看后文）并且在 a-z 范围内的任意字符的表达式。为了通过字符串字面量给 RegExp 构造函数创建包含反斜杠的表达式，你需要在字符串级别和正则表达式级别都对它进行转义。例如 /[a-z]:\\/i 和 new RegExp("[a-z]:\\\\","i") 会创建相同的表达式，即匹配类似 "C:\" 字符串。|
|^|匹配输入的开始。如果多行标志被设置为 true，那么也匹配换行符后紧跟的位置。例如，/^A/ 并不会匹配 "an A" 中的 'A'，但是会匹配 "An E" 中的 'A'。当 '^' 作为第一个字符出现在一个字符集合模式时，它将会有不同的含义。反向字符集合 一节有详细介绍和示例。|
|$|	匹配输入的结束。如果多行标志被设置为 true，那么也匹配换行符前的位置。例如，/t$/ 并不会匹配 "eater" 中的 't'，但是会匹配 "eat" 中的 't'。|
|*|	匹配前一个表达式 0 次或多次。等价于 {0,}。例如，/bo*/ 会匹配 "A ghost boooooed" 中的 'booooo' 和 "A bird warbled" 中的 'b'，但是在 "A goat grunted" 中不会匹配任何内容。|
|+|	匹配前面一个表达式 1 次或者多次。等价于 {1,}。例如，/a+/ 会匹配 "candy" 中的 'a' 和 "caaaaaaandy" 中所有的 'a'，但是在 "cndy" 中不会匹配任何内容。|        


还有很多，后面碰到再依次补充。       

## 正则表达式的标志符

正则表达式的标志符可以帮助我们更加精准的匹配。         

具体有如下这几个：       

|标志|	描述|
|----|----|
|g|	全局搜索。|
|i|	不区分大小写搜索。|
|m|	多行搜索。|
|s|	允许 . 匹配换行符。|
|u|	使用unicode码的模式进行匹配。|
|y|	执行“粘性(sticky)”搜索,匹配从目标字符串的当前位置开始。|

## 使用正则表达式

定义完了正则表达式之后，我们就需要将该正则表达式和要匹配的串进行匹配了。         

具体使用方法有以下这几种。        

|方法|作用|
|----|----|
|exec|	一个在字符串中执行查找匹配的RegExp方法，它返回一个数组（未匹配到则返回 null）。|
|test|	一个在字符串中测试是否匹配的RegExp方法，它返回 true 或 false。|
|match|	一个在字符串中执行查找匹配的String方法，它返回一个数组，在未匹配到时会返回 null。|
|matchAll|	一个在字符串中执行查找所有匹配的String方法，它返回一个迭代器（iterator）。|
|search|	一个在字符串中测试匹配的String方法，它返回匹配到的位置索引，或者在失败时返回-1。|
|replace|	一个在字符串中执行查找匹配的String方法，并且使用替换字符串替换掉匹配到的子字符串。|
|split|	一个使用正则表达式或者一个固定字符串分隔一个字符串，并将分隔后的子字符串存储到数组中的 String 方法。|

- 例如想匹配到一个串中所有的字母和数字。我们可以如下做       

```js
let reg = /[a-zA-Z0-9]+/g;
let str = '123 ^77dddoqqncjqsaAADDJN))EE 7e d00';
let res= str.match(reg);
console.log(res);
// [ '123', '77dddoqqncjqsaAADDJN', 'EE', '7e', 'd00' ]
```

